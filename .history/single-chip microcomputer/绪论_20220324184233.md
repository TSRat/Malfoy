# 绪论
* **单片机**
  * **单板机**：**CPU芯片、存储器芯片、I/O接口芯片、简单的I/O设备（小键盘、LED显示器）**等装配在一块**印刷电路板**上，再配上**监控程序**（固化在ROM中），就构成了一台**单板微型计算机**（简称单板机）
    * 单板机的I/O设备简单，软件资源少，使用不方便；早期主要用于微型计算机原理的教学及简单的测控系统，现在已很少使用
  * **单片机**：在一片**集成电路芯片**上集成微处理器、存储器、1/0接口电路，从而构成了**单芯片微型计算机**，即单片机
  * **作用**：工业自动化、智能仪器仪表、消费类电子产品、通讯、武器装备等
* **电平特性**
  * 数字电路中只有两种电平：**高和低**
  * 定义单片机为**TTL电平**：高+5V 低0V
  * **RS232电平**(**计算机的串口**)：高-12V 低+12V
  * 计算机与单片机之间**通讯**时需要加**电平转换芯片max232**
* **二/十六进制**
* **二进制数的逻辑运算**
* **80C51系列介绍**
  * 80C51是MCS-51系列中的一个典型品种；其它厂商以8051为基核开发出的CMOS工艺单片机产品统称为80C51系列
  * **命名举例**：STC89C52RC 40C-PDIP 0721CV4336
    * STC：公司名
    * 89：系列
    * C：CMOS
    * 52：一个系列，“2”表示内部程序存储空间为2*4k=8k
    * 40：工作速度为40兆赫兹
    * C：商业级，区别为适用温度（-40——85度）
    * PDIP：封装型号
    * 0721：生产日期
    * CV4336：具体型号
  * **引脚封装**
![](../images/80C51.png)
![](../images/80C51结构.png)
  * **总线**(BUS)：计算机各部件之间传送信息的公共通道；微机中有内部总线和外部总线两类，**内部总线**是CPU内部之间的连线，外部总线是指CPU与其它部件之间的连线；**外部总线**有三种：**数据总线**DB(Data Bus)，**地址总线**AB(Address Bus)和**控制总线**CB(Control Bus)
  * **CPU**：由**运算**和**控制逻辑**组成，同时还包括**中断系统**和部分**外部特殊功能寄存器**
  * **RAM**：用以**存放可以读写的数据**，如运算的**中间结果**、**最终结果**以及**欲显示的数据**
  * **ROM**：用以存放**程序**、一些**原始数据**和**表格**
  * **I/O口**：四个**8位并行I/O口**，既可用作**输入**，也可用作**输出**
  * **T/C**: 两个**定时／记数器**，既可以工作在**定时模式**，也可以工作在**记数模式**
  * 五个中断源的**中断控制系统**
  * 一个**全双工UART**（通用异步接收发送器）的**串行I/O口**，用于实现**单片机之间或单片机与微机之间**的**串行通信**
  * 片内**振荡器**和**时钟**产生电路，石英晶体和微调电容需要外接；**最高振荡频率**取决于单片机型号及性能
* **C51知识**
  * **优点**：
    * 对单片机的指令系统**不要求了解**，仅要求对8051的存贮器结构有**初步了解**
    * 寄存器分配、不同存贮器的寻址及数据类型等**细节**可由**编译器**管理
    * 程序有**规范的结构**，可分成**不同的函数**，这种方式可使程序结构化
    * 提供的库包含许多**标准子程序**，具有较强的数据处理能力
    * 由于具有方便的**模块化编程技术**，使巳编好程序可容易地移植                      
![](../images/C-51.png)PSW^2：寄存器PSW的第二位
![](../images/C51.png)
    * 基本语句：if\while\for\switch\do-while
![](../images/中断.png)
* **掌握**
  * **最小系统能够运行起来的必要条件**：电源、晶振、复位电路
  * **对单片机任意I/O口的随意操作**：输出控制电平高低、输出检测电平高低
  * **定时器**：重点掌握最常用的方式
  * **中断**：外部中断、定时器中断、串口中断
  * **串口通信**：单片机之间、单片机与计算机间
* **KEIL的使用**
  * 掌握KEIL工程的建立和软件的开发
  * 掌握KEIL中软件仿真的基本应用
  * 掌握用KEIL直接硬件仿真TX-1C单片机学习板的方法
* **单片机工作的基本时序**
  * **振荡周期**：也称**时钟周期**，是指为单片机提供时钟脉冲信号的振荡源的周期，TX实验板上为11.0592MHz
  * **状态周期**：每个状态周期为时钟周期的2倍，是振荡周期经二分频后得到的
  * **机器周期**： 一个机器周期包含6个状态周期S1~S6，也就是12个时钟周期；在一个机器周期内，CPU可以完成一个独立的操作
  * **指令周期**：它是指CPU完成一条操作所需的全部时间。每条指令执行时间都是有一个或几个机器周期组成；MCS-51系统中，有单周期指令、双周期指令和四周期指令
* **发光管工程**
  * 发光管→单片机
![](../images/发光管.png)
![](../images/DB.png)
    * 发光管电流：3-10mA
    * VCC：+5V；发光管压降：1.7V
    * 发光管串联电阻（排阻）阻值：（5-1.7）/3=1千欧姆
    * 74HC573：**锁存器**，D为输入端，Q为输出端，OE接地，LE（锁存端）接DIOLA（本实验中为高电平），D0-D7接DB1-DB8**再接单片机P1口（P10-P17）**（见上图）
    * 51单片机所有I/O口如不加设置，**默认均为高电平**
![](../images/74HC573.png)
![](../images/OE.jpeg) 
  * 电源
![](../images/电源.png)
    * USB输出电压，D10为电源指示灯，R11为限流电阻，CJ1\CJ2起缓冲及稳压作用
    * S1为总开关，此为开关电源（电流大开关关闭，电流小开关打开，取平均值）